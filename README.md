# vHeat-Codicology  
**Computational Codicology via Thermal Diffusion**  
*Visualizing Material Anomalies in Lanten Religious Manuscripts*

---

## Overview

This repository provides a reproducible analysis pipeline, example visualizations, and a short case study for the project:

**Computational Codicology via Thermal Diffusion: Visualizing Material Anomalies in Lanten Religious Manuscripts**

The project explores how heat-conduction–inspired vision models can be adapted for the study of manuscript materiality. By applying the **vHeat** visual backbone to historical document images, the workflow visualizes and quantifies page-level material anomalies such as ink diffusion, wear patterns, stains, and layout-induced texture variation.

All computational results are intended to **support, not replace**, traditional philological and codicological analysis.

---

## Research Context

Premodern religious manuscripts preserve rich material traces resulting from copying practices, ritual handling, environmental exposure, and long-term use. While physicochemical approaches such as multispectral imaging offer powerful tools for material analysis, their cost and technical requirements limit large-scale or field-based application.

This project investigates a lower-cost, high-throughput alternative by adapting **vHeat**, a heat-conduction–based visual backbone model, to manuscript page analysis. The thermal diffusion metaphor is particularly suitable for codicological contexts, as it parallels material processes such as ink penetration into porous paper, fiber diffusion, mold spread, and aging-related stains.

The case study focuses on a 19th-century Vietnamese Yao (Lanten / Kim Mun) religious manuscript,  
*Zhai duan (Wang) miyu* (齋短（亡）秘語), analyzed across its digitized pages.

---

## Repository Structure

vheat-codicology/
├── README.md
├── scripts/
│ └── vheat_anomaly_batch.py
├── examples/
│ ├── figures/
│ │ ├── example_overlay.png
│ │ ├── example_3d_surface.png
│ │ └── anomaly_distribution_curve.png
│ └── mini_case_study.md
├── requirements.txt
├── LICENSE
└── .gitignore

yaml
Copy code

- **scripts/**  
  Analysis scripts for batch processing manuscript page images.

- **examples/figures/**  
  Selected visualization outputs (2D overlays, 3D surfaces, distribution plots).

- **examples/mini_case_study.md**  
  A short interpretive summary connecting computational results with codicological observations.

---

## Methodological Orientation

This project treats computational methods as **analytical aids**, not autonomous interpretive agents. Visual outputs generated by the model are designed to:

- Identify regions of interest for closer codicological inspection  
- Support comparative analysis across large sets of manuscript pages  
- Quantify material variation in dialogue with historical and material knowledge  

Detected anomalies do **not** automatically indicate damage. Regular layouts, dense ruling, talismanic grids, or intentional graphic structures may also produce strong responses and must be interpreted contextually.

---

## vHeat Model and Attribution

This project builds upon the **vHeat** visual backbone model proposed in:

> Wang, Zhaozhi, Yue Liu, Yunjie Tian, Yunfan Liu, Yaowei Wang, and Qixiang Ye.  
> *Building Vision Models upon Heat Conduction.*  
> Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR), 2025, pp. 9707–9717.

BibTeX citation:
```bibtex
@InProceedings{Wang_2025_CVPR,
    author    = {Wang, Zhaozhi and Liu, Yue and Tian, Yunjie and Liu, Yunfan and Wang, Yaowei and Ye, Qixiang},
    title     = {Building Vision Models upon Heat Conduction},
    booktitle = {Proceedings of the Computer Vision and Pattern Recognition Conference (CVPR)},
    month     = {June},
    year      = {2025},
    pages     = {9707-9717}
}
Original vHeat repository:
https://github.com/MzeroMiko/vHeat

This repository does not redistribute the vHeat source code or pretrained weights. Users should obtain them from the original repository.

Quick Start
1. Clone this repository
bash
Copy code
git clone https://github.com/your-username/vheat-codicology.git
cd vheat-codicology
2. Prepare environment
bash
Copy code
pip install -r requirements.txt
3. Obtain vHeat and weights
Clone the original vHeat repository:
https://github.com/MzeroMiko/vHeat

Download the pretrained weight file (e.g. vHeat_base.pth) as instructed in the original repository.

4. Run batch analysis
bash
Copy code
python scripts/vheat_anomaly_batch.py \
  --vheat_root /path/to/vHeat \
  --weights /path/to/vHeat_base.pth \
  --input_dir /path/to/manuscript_pages \
  --output_dir outputs
5. Outputs
The script generates:

2D heatmap overlays for each page

3D anomaly surface plots

A text-based summary report ranking pages by anomaly metrics

Sorted visualization outputs for comparative inspection

Case Study and Figures
A short case study summarizing the experimental results and their codicological interpretation is provided in:

bash
Copy code
examples/mini_case_study.md
Representative figures are stored in:

bash
Copy code
examples/figures/
These materials illustrate how page-level anomaly distributions correspond to established observations regarding manuscript wear, handling intensity, and material stress.

Data and Images
The manuscript page images and derived visualizations included in this repository are shared for academic research and demonstration purposes only. They are not intended to substitute for direct examination of the physical manuscript.

Citation
If you use or reference this project, please cite:

Wei, Xiang. Computational Codicology via Thermal Diffusion: Visualizing Material Anomalies in Lanten Religious Manuscripts. GitHub repository, vHeat-Codicology.
